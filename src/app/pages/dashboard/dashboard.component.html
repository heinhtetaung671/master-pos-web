<div class="p-12">
    <div class="flex gap-1 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
          </svg>
        <span class="text-2xl">Dashboards</span>
    </div>

    @if (loading()) {

      <app-loading-page></app-loading-page>

    } @else {
      <main>
        <div class="grid grid-rows-2 grid-cols-12 mt-8 " style="height: 82vh;">

          <!-- Voucher Dashboard Go Here-->
          <div class="col-span-8">
            <div class="flex justify-between items-center">
              <span class="m-0 font-semibold text-2xl">Voucher Dashboard</span>

              <div class="flex gap-2">

                <div>
                  <mat-form-field>
                    <mat-label>Type</mat-label>
                    <mat-select [formControl]="voucherDashboardType">
                      <mat-option value="MONTHLY">Monthly</mat-option>
                      <mat-option value="YEARLY">Yearly</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

                @switch (voucherDashboardType.value) {
                  @case ('MONTHLY') {
                    <form [formGroup]="voucherDashboardMonthlyForm" class="flex gap-1.5 place-items-center">
                      <div>
                        <mat-form-field>
                          <mat-label>Year</mat-label>
                          <mat-select formControlName="year">
                            @for (item of bussinessYears(); track $index) {
                              <mat-option [value]="item">{{ item }}</mat-option>
                            }
                          </mat-select>
                        </mat-form-field>
                      </div>
  
                      <div>
                        <mat-form-field>
                          <mat-label>Month</mat-label>
                          <mat-select formControlName="month">
                            @for (item of this.MONTHS(); track $index) {
                              <mat-option [value]="item">{{ item }}</mat-option>
                            }
                          </mat-select>
                        </mat-form-field>
                      </div>
                    </form>
                  }

                  @case ('YEARLY') {
                    <div>
                      <mat-form-field>
                        <mat-label>Type</mat-label>
                        <mat-select [formControl]="voucherDashboardYearlyForm">
                          @for (item of bussinessYears(); track $index) {
                            <mat-option [value]="item">{{ item }}</mat-option>
                          }
                        </mat-select>
                      </mat-form-field>
                    </div>
                  }
                }
              </div>
            </div>

            <div id="voucher-dashboard"></div>        
          </div>

<div class="col-span-4 ">
  <div class="flex flex-col justify-center items-center">
    <div id="category-voucher"></div>
  
    <!-- Legend Indicator -->
    <div class="flex justify-center sm:justify-end items-center gap-x-4 mt-3 sm:mt-6">
      <div class="inline-flex items-center">
        <span class="size-2.5 inline-block bg-blue-600 rounded-sm me-2"></span>
        <span class="text-[13px] text-gray-600">
          Income
        </span>
      </div>
      <div class="inline-flex items-center">
        <span class="size-2.5 inline-block bg-cyan-500 rounded-sm me-2"></span>
        <span class="text-[13px] text-gray-600">
          Outcome
        </span>
      </div>
      <div class="inline-flex items-center">
        <span class="size-2.5 inline-block bg-gray-300 rounded-sm me-2"></span>
        <span class="text-[13px] text-gray-600">
          Others
        </span>
      </div>
    </div>
    <!-- End Legend Indicator -->
  </div>

</div>
      
    
  <div class="col-span-8 mt-4">
    <div class="flex justify-between">
      <span class="m-0 font-semibold text-2xl">Profit Dashboard</span>

      <div class="flex gap-2">

        <div>
          <mat-form-field>
            <mat-label>Type</mat-label>
            <mat-select [formControl]="profitDashboardType">
              <mat-option value="MONTHLY">Monthly</mat-option>
              <mat-option value="YEARLY">Yearly</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        @switch (profitDashboardType.value) {
          @case ('MONTHLY') {
            <form [formGroup]="profitDashboardMonthlyForm" class="flex gap-1.5 place-items-center">
              <div>
                <mat-form-field>
                  <mat-label>Year</mat-label>
                  <mat-select formControlName="year">
                    @for (item of bussinessYears(); track $index) {
                      <mat-option [value]="item">{{ item }}</mat-option>
                    }
                  </mat-select>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field>
                  <mat-label>Month</mat-label>
                  <mat-select formControlName="month">
                    @for (item of this.MONTHS(); track $index) {
                      <mat-option [value]="item">{{ item }}</mat-option>
                    }
                  </mat-select>
                </mat-form-field>
              </div>
            </form>
          }

          @case ('YEARLY') {
            <div>
              <mat-form-field>
                <mat-label>Type</mat-label>
                <mat-select [formControl]="profitDashboardYearlyForm">
                  @for (item of bussinessYears(); track $index) {
                    <mat-option [value]="item">{{ item }}</mat-option>
                  }
                </mat-select>
              </mat-form-field>
            </div>
          }
        }
      </div>
    </div>
  
    <div id="profit-dashboard"></div>
  </div>

          <div class="col-span-4 ">


            <div class="p-4">
                <div class="flex flex-col justify-center items-center h-[300px]">
                  <div id="hs-pie-chart"></div>
              
                  <!-- Legend Indicator -->
                  <div class="flex justify-center sm:justify-end items-center gap-x-4 mt-3 sm:mt-6">
                    <div class="inline-flex items-center">
                      <span class="size-2.5 inline-block bg-blue-600 rounded-sm me-2"></span>
                      <span class="text-[13px] text-gray-600">
                        Income
                      </span>
                    </div>
                    <div class="inline-flex items-center">
                      <span class="size-2.5 inline-block bg-cyan-500 rounded-sm me-2"></span>
                      <span class="text-[13px] text-gray-600">
                        Outcome
                      </span>
                    </div>
                    <div class="inline-flex items-center">
                      <span class="size-2.5 inline-block bg-gray-300 rounded-sm me-2"></span>
                      <span class="text-[13px] text-gray-600">
                        Others
                      </span>
                    </div>
                  </div>
                  <!-- End Legend Indicator -->
                </div>
              </div>
        </div>

      </div>
      </main>
    }
</div>

